name: when user create an issue , comment will appear
on:
    issues:
        types: [opened]
permissions: write-all
jobs:
    comment-with-action-module:
        runs-on: ubuntu-latest
        steps:
            - name: dump github context
              run: echo '${{ toJson(github.event)}}' | jq
              shell: bash
            - name: Create comment with market place module
              uses: peter-evans/create-or-update-comment@v5
              with:
                  issue-number: ${{ github.event.issue.number }}
                  body: |
                      This is a multi-line test comment
                      - With GitHub **Markdown** :sparkles:
                      - Created by [create-or-update-comment][1]

                      [1]: https://github.com/peter-evans/create-or-update-comment
                  reactions: "+1"
    comment-with-github-api:
        runs-on: ubuntu-latest
        steps:
            - name: comment using the github api not using third module
              run: |
                  gh api -X POST \
                  https://api.github.com/repos/${ORGANIZATION}/${REPOSITORY}/issues/${ISSUE_NUMBER}/comments \
                  -f body='
                  comment but from the api call NOT from action
                  '
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN}}
                  ORGANIZATION: ${{ github.event.repository.owner.login }}
                  REPOSITORY: ${{ github.event.repository.name }}
                  ISSUE_NUMBER: ${{ github.event.issue.number }}
